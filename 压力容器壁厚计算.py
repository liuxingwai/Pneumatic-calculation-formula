# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file '压力容器计算.ui'
#
# Created by: PyQt5 UI code generator 5.15.2
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
from PyQt5.QtWidgets import QMainWindow,QMessageBox
import numpy as np
from PyQt5.QtGui import *
import sqlite3
import datetime
from sqlite3 import Error

#连接数据库
def sql_connection():
    try:
        # con = sqlite3.connect("压力容器壁厚计算数据库.db")
        con = sqlite3.connect("公式集合数据库.db")
        return con
    except Error:
        print(Error)
#创建表
def sql_table(con):
    try:
        # 创建游标
        cursor = con.cursor()
        cursor.execute("create table 压力容器壁厚 (日期,材料类型,计算强度,工压压力,安全系数,爆破压力,气瓶外径,椭球高度,平底系数,直筒壁厚,球形壁厚,椭球壁厚,平底壁厚,直筒设计壁厚,球形设计壁厚,椭球设计壁厚,平底设计壁厚,直筒设计安全系数,球形设计安全系数,椭球设计安全系数,平底设计安全系数)")
        # 提交事务
        con.commit()
    except Error:
        print(Error)
con = sql_connection()
sql_table(con)


class Ui_ylrq(QMainWindow):
    def setupUi(self, ylrq):
        ylrq.setObjectName("ylrq")
        ylrq.setWindowModality(QtCore.Qt.NonModal)
        ylrq.setEnabled(True)
        ylrq.resize(1024, 670)
        ylrq.setMaximumSize(QtCore.QSize(1024, 670))
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(16)
        ylrq.setFont(font)
        ylrq.setMouseTracking(False)
        icon = QtGui.QIcon()
        icon.addPixmap(QtGui.QPixmap(":/PNG/chengliang.png"), QtGui.QIcon.Normal, QtGui.QIcon.Off)
        ylrq.setWindowIcon(icon)
        ylrq.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.label = QtWidgets.QLabel(ylrq)
        self.label.setGeometry(QtCore.QRect(0, 10, 1021, 81))
        font = QtGui.QFont()
        font.setFamily("黑体")
        font.setPointSize(24)
        font.setKerning(True)
        self.label.setFont(font)
        self.label.setAlignment(QtCore.Qt.AlignCenter)
        self.label.setObjectName("label")
        self.pushButton = QtWidgets.QPushButton(ylrq)
        self.pushButton.setGeometry(QtCore.QRect(160, 610, 104, 32))
        font = QtGui.QFont()
        font.setFamily("黑体")
        font.setPointSize(18)
        self.pushButton.setFont(font)
        self.pushButton.setObjectName("pushButton")
        self.layoutWidget = QtWidgets.QWidget(ylrq)
        self.layoutWidget.setGeometry(QtCore.QRect(20, 110, 984, 35))
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.layoutWidget.setFont(font)
        self.layoutWidget.setObjectName("layoutWidget")
        self.horizontalLayout_4 = QtWidgets.QHBoxLayout(self.layoutWidget)
        self.horizontalLayout_4.setContentsMargins(0, 0, 0, 0)
        self.horizontalLayout_4.setObjectName("horizontalLayout_4")
        self.horizontalLayout = QtWidgets.QHBoxLayout()
        self.horizontalLayout.setObjectName("horizontalLayout")
        self.label_2 = QtWidgets.QLabel(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_2.setFont(font)
        self.label_2.setAlignment(QtCore.Qt.AlignCenter)
        self.label_2.setObjectName("label_2")
        self.horizontalLayout.addWidget(self.label_2)
        self.comboBox = QtWidgets.QComboBox(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.comboBox.setFont(font)
        self.comboBox.setObjectName("comboBox")
        self.comboBox.addItem("")
        self.comboBox.addItem("")
        self.comboBox.addItem("")
        self.comboBox.addItem("")
        self.comboBox.addItem("")
        self.comboBox.addItem("")
        self.comboBox.addItem("")
        self.comboBox.addItem("")
        self.horizontalLayout.addWidget(self.comboBox)
        self.horizontalLayout_4.addLayout(self.horizontalLayout)
        self.horizontalLayout_2 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_2.setObjectName("horizontalLayout_2")
        self.label_3 = QtWidgets.QLabel(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_3.setFont(font)
        self.label_3.setObjectName("label_3")
        self.horizontalLayout_2.addWidget(self.label_3)
        self.lineEdit = QtWidgets.QLineEdit(self.layoutWidget)
        self.lineEdit.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit.setFont(font)
        self.lineEdit.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit.setObjectName("lineEdit")
        self.horizontalLayout_2.addWidget(self.lineEdit)
        self.horizontalLayout_4.addLayout(self.horizontalLayout_2)
        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_3.setObjectName("horizontalLayout_3")
        self.label_4 = QtWidgets.QLabel(self.layoutWidget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_4.setFont(font)
        self.label_4.setObjectName("label_4")
        self.horizontalLayout_3.addWidget(self.label_4)
        self.lineEdit_2 = QtWidgets.QLineEdit(self.layoutWidget)
        self.lineEdit_2.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_2.setFont(font)
        self.lineEdit_2.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_2.setObjectName("lineEdit_2")
        self.horizontalLayout_3.addWidget(self.lineEdit_2)
        self.horizontalLayout_4.addLayout(self.horizontalLayout_3)
        self.layoutWidget1 = QtWidgets.QWidget(ylrq)
        self.layoutWidget1.setGeometry(QtCore.QRect(21, 182, 451, 411))
        self.layoutWidget1.setObjectName("layoutWidget1")
        self.verticalLayout = QtWidgets.QVBoxLayout(self.layoutWidget1)
        self.verticalLayout.setContentsMargins(0, 0, 0, 0)
        self.verticalLayout.setObjectName("verticalLayout")
        self.horizontalLayout_5 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_5.setObjectName("horizontalLayout_5")
        self.label_6 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_6.setFont(font)
        self.label_6.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_6.setObjectName("label_6")
        self.horizontalLayout_5.addWidget(self.label_6)
        self.lineEdit_3 = QtWidgets.QLineEdit(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_3.setFont(font)
        self.lineEdit_3.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_3.setClearButtonEnabled(True)
        self.lineEdit_3.setObjectName("lineEdit_3")
        self.horizontalLayout_5.addWidget(self.lineEdit_3)
        self.verticalLayout.addLayout(self.horizontalLayout_5)
        self.horizontalLayout_6 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_6.setObjectName("horizontalLayout_6")
        self.label_7 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        self.label_7.setFont(font)
        self.label_7.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_7.setObjectName("label_7")
        self.horizontalLayout_6.addWidget(self.label_7)
        self.lineEdit_4 = QtWidgets.QLineEdit(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_4.setFont(font)
        self.lineEdit_4.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_4.setClearButtonEnabled(True)
        self.lineEdit_4.setObjectName("lineEdit_4")
        self.horizontalLayout_6.addWidget(self.lineEdit_4)
        self.verticalLayout.addLayout(self.horizontalLayout_6)
        self.horizontalLayout_7 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_7.setObjectName("horizontalLayout_7")
        self.label_8 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_8.setFont(font)
        self.label_8.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_8.setObjectName("label_8")
        self.horizontalLayout_7.addWidget(self.label_8)
        self.lineEdit_5 = QtWidgets.QLineEdit(self.layoutWidget1)
        self.lineEdit_5.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_5.setFont(font)
        self.lineEdit_5.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_5.setObjectName("lineEdit_5")
        self.horizontalLayout_7.addWidget(self.lineEdit_5)
        self.verticalLayout.addLayout(self.horizontalLayout_7)
        self.horizontalLayout_8 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_8.setObjectName("horizontalLayout_8")
        self.label_9 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_9.setFont(font)
        self.label_9.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_9.setObjectName("label_9")
        self.horizontalLayout_8.addWidget(self.label_9)
        self.lineEdit_6 = QtWidgets.QLineEdit(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_6.setFont(font)
        self.lineEdit_6.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_6.setClearButtonEnabled(True)
        self.lineEdit_6.setObjectName("lineEdit_6")
        self.horizontalLayout_8.addWidget(self.lineEdit_6)
        self.verticalLayout.addLayout(self.horizontalLayout_8)
        self.horizontalLayout_15 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_15.setObjectName("horizontalLayout_15")
        self.label_16 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_16.setFont(font)
        self.label_16.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_16.setObjectName("label_16")
        self.horizontalLayout_15.addWidget(self.label_16)
        self.lineEdit_13 = QtWidgets.QLineEdit(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_13.setFont(font)
        self.lineEdit_13.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_13.setClearButtonEnabled(True)
        self.lineEdit_13.setObjectName("lineEdit_13")
        self.horizontalLayout_15.addWidget(self.lineEdit_13)
        self.verticalLayout.addLayout(self.horizontalLayout_15)
        self.horizontalLayout_9 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_9.setObjectName("horizontalLayout_9")
        self.label_10 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_10.setFont(font)
        self.label_10.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_10.setObjectName("label_10")
        self.horizontalLayout_9.addWidget(self.label_10)
        self.lineEdit_7 = QtWidgets.QLineEdit(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_7.setFont(font)
        self.lineEdit_7.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_7.setClearButtonEnabled(True)
        self.lineEdit_7.setObjectName("lineEdit_7")
        self.horizontalLayout_9.addWidget(self.lineEdit_7)
        self.verticalLayout.addLayout(self.horizontalLayout_9)
        self.horizontalLayout_10 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_10.setObjectName("horizontalLayout_10")
        self.label_11 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_11.setFont(font)
        self.label_11.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_11.setObjectName("label_11")
        self.horizontalLayout_10.addWidget(self.label_11)
        self.lineEdit_8 = QtWidgets.QLineEdit(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_8.setFont(font)
        self.lineEdit_8.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_8.setClearButtonEnabled(True)
        self.lineEdit_8.setObjectName("lineEdit_8")
        self.horizontalLayout_10.addWidget(self.lineEdit_8)
        self.verticalLayout.addLayout(self.horizontalLayout_10)
        self.horizontalLayout_11 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_11.setObjectName("horizontalLayout_11")
        self.label_12 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_12.setFont(font)
        self.label_12.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_12.setObjectName("label_12")
        self.horizontalLayout_11.addWidget(self.label_12)
        self.lineEdit_9 = QtWidgets.QLineEdit(self.layoutWidget1)
        self.lineEdit_9.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_9.setFont(font)
        self.lineEdit_9.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_9.setObjectName("lineEdit_9")
        self.horizontalLayout_11.addWidget(self.lineEdit_9)
        self.verticalLayout.addLayout(self.horizontalLayout_11)
        self.horizontalLayout_12 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_12.setObjectName("horizontalLayout_12")
        self.label_13 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_13.setFont(font)
        self.label_13.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_13.setObjectName("label_13")
        self.horizontalLayout_12.addWidget(self.label_13)
        self.lineEdit_10 = QtWidgets.QLineEdit(self.layoutWidget1)
        self.lineEdit_10.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_10.setFont(font)
        self.lineEdit_10.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_10.setObjectName("lineEdit_10")
        self.horizontalLayout_12.addWidget(self.lineEdit_10)
        self.verticalLayout.addLayout(self.horizontalLayout_12)
        self.horizontalLayout_13 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_13.setObjectName("horizontalLayout_13")
        self.label_14 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_14.setFont(font)
        self.label_14.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_14.setObjectName("label_14")
        self.horizontalLayout_13.addWidget(self.label_14)
        self.lineEdit_11 = QtWidgets.QLineEdit(self.layoutWidget1)
        self.lineEdit_11.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_11.setFont(font)
        self.lineEdit_11.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_11.setObjectName("lineEdit_11")
        self.horizontalLayout_13.addWidget(self.lineEdit_11)
        self.verticalLayout.addLayout(self.horizontalLayout_13)
        self.horizontalLayout_14 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_14.setObjectName("horizontalLayout_14")
        self.label_15 = QtWidgets.QLabel(self.layoutWidget1)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_15.setFont(font)
        self.label_15.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_15.setObjectName("label_15")
        self.horizontalLayout_14.addWidget(self.label_15)
        self.lineEdit_12 = QtWidgets.QLineEdit(self.layoutWidget1)
        self.lineEdit_12.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_12.setFont(font)
        self.lineEdit_12.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_12.setObjectName("lineEdit_12")
        self.horizontalLayout_14.addWidget(self.lineEdit_12)
        self.verticalLayout.addLayout(self.horizontalLayout_14)
        self.pushButton_2 = QtWidgets.QPushButton(ylrq)
        self.pushButton_2.setGeometry(QtCore.QRect(680, 610, 200, 32))
        font = QtGui.QFont()
        font.setFamily("黑体")
        font.setPointSize(18)
        self.pushButton_2.setFont(font)
        self.pushButton_2.setObjectName("pushButton_2")
        self.widget = QtWidgets.QWidget(ylrq)
        self.widget.setGeometry(QtCore.QRect(530, 180, 473, 301))
        self.widget.setObjectName("widget")
        self.verticalLayout_2 = QtWidgets.QVBoxLayout(self.widget)
        self.verticalLayout_2.setContentsMargins(0, 0, 0, 0)
        self.verticalLayout_2.setObjectName("verticalLayout_2")
        self.horizontalLayout_16 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_16.setObjectName("horizontalLayout_16")
        self.label_19 = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_19.setFont(font)
        self.label_19.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_19.setObjectName("label_19")
        self.horizontalLayout_16.addWidget(self.label_19)
        self.lineEdit_14 = QtWidgets.QLineEdit(self.widget)
        self.lineEdit_14.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_14.setFont(font)
        self.lineEdit_14.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_14.setClearButtonEnabled(True)
        self.lineEdit_14.setObjectName("lineEdit_14")
        self.horizontalLayout_16.addWidget(self.lineEdit_14)
        self.verticalLayout_2.addLayout(self.horizontalLayout_16)
        self.horizontalLayout_17 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_17.setObjectName("horizontalLayout_17")
        self.label_18 = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_18.setFont(font)
        self.label_18.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_18.setObjectName("label_18")
        self.horizontalLayout_17.addWidget(self.label_18)
        self.lineEdit_15 = QtWidgets.QLineEdit(self.widget)
        self.lineEdit_15.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_15.setFont(font)
        self.lineEdit_15.setInputMethodHints(QtCore.Qt.ImhNone)
        self.lineEdit_15.setInputMask("")
        self.lineEdit_15.setText("")
        self.lineEdit_15.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_15.setClearButtonEnabled(True)
        self.lineEdit_15.setObjectName("lineEdit_15")
        self.horizontalLayout_17.addWidget(self.lineEdit_15)
        self.verticalLayout_2.addLayout(self.horizontalLayout_17)
        self.horizontalLayout_18 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_18.setObjectName("horizontalLayout_18")
        self.label_20 = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_20.setFont(font)
        self.label_20.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_20.setObjectName("label_20")
        self.horizontalLayout_18.addWidget(self.label_20)
        self.lineEdit_16 = QtWidgets.QLineEdit(self.widget)
        self.lineEdit_16.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_16.setFont(font)
        self.lineEdit_16.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_16.setClearButtonEnabled(True)
        self.lineEdit_16.setObjectName("lineEdit_16")
        self.horizontalLayout_18.addWidget(self.lineEdit_16)
        self.verticalLayout_2.addLayout(self.horizontalLayout_18)
        self.horizontalLayout_19 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_19.setObjectName("horizontalLayout_19")
        self.label_17 = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_17.setFont(font)
        self.label_17.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_17.setObjectName("label_17")
        self.horizontalLayout_19.addWidget(self.label_17)
        self.lineEdit_17 = QtWidgets.QLineEdit(self.widget)
        self.lineEdit_17.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_17.setFont(font)
        self.lineEdit_17.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_17.setClearButtonEnabled(True)
        self.lineEdit_17.setObjectName("lineEdit_17")
        self.horizontalLayout_19.addWidget(self.lineEdit_17)
        self.verticalLayout_2.addLayout(self.horizontalLayout_19)
        self.horizontalLayout_20 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_20.setObjectName("horizontalLayout_20")
        self.label_22 = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_22.setFont(font)
        self.label_22.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_22.setObjectName("label_22")
        self.horizontalLayout_20.addWidget(self.label_22)
        self.lineEdit_18 = QtWidgets.QLineEdit(self.widget)
        self.lineEdit_18.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_18.setFont(font)
        self.lineEdit_18.setAcceptDrops(False)
        self.lineEdit_18.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_18.setObjectName("lineEdit_18")
        self.horizontalLayout_20.addWidget(self.lineEdit_18)
        self.verticalLayout_2.addLayout(self.horizontalLayout_20)
        self.horizontalLayout_21 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_21.setObjectName("horizontalLayout_21")
        self.label_23 = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_23.setFont(font)
        self.label_23.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_23.setObjectName("label_23")
        self.horizontalLayout_21.addWidget(self.label_23)
        self.lineEdit_19 = QtWidgets.QLineEdit(self.widget)
        self.lineEdit_19.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_19.setFont(font)
        self.lineEdit_19.setAcceptDrops(False)
        self.lineEdit_19.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_19.setObjectName("lineEdit_19")
        self.horizontalLayout_21.addWidget(self.lineEdit_19)
        self.verticalLayout_2.addLayout(self.horizontalLayout_21)
        self.horizontalLayout_22 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_22.setObjectName("horizontalLayout_22")
        self.label_21 = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_21.setFont(font)
        self.label_21.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_21.setObjectName("label_21")
        self.horizontalLayout_22.addWidget(self.label_21)
        self.lineEdit_20 = QtWidgets.QLineEdit(self.widget)
        self.lineEdit_20.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_20.setFont(font)
        self.lineEdit_20.setAcceptDrops(False)
        self.lineEdit_20.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_20.setObjectName("lineEdit_20")
        self.horizontalLayout_22.addWidget(self.lineEdit_20)
        self.verticalLayout_2.addLayout(self.horizontalLayout_22)
        self.horizontalLayout_23 = QtWidgets.QHBoxLayout()
        self.horizontalLayout_23.setObjectName("horizontalLayout_23")
        self.label_24 = QtWidgets.QLabel(self.widget)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.label_24.setFont(font)
        self.label_24.setAlignment(QtCore.Qt.AlignRight|QtCore.Qt.AlignTrailing|QtCore.Qt.AlignVCenter)
        self.label_24.setObjectName("label_24")
        self.horizontalLayout_23.addWidget(self.label_24)
        self.lineEdit_21 = QtWidgets.QLineEdit(self.widget)
        self.lineEdit_21.setEnabled(True)
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        font.setKerning(True)
        self.lineEdit_21.setFont(font)
        self.lineEdit_21.setAcceptDrops(False)
        self.lineEdit_21.setAlignment(QtCore.Qt.AlignCenter)
        self.lineEdit_21.setObjectName("lineEdit_21")
        self.horizontalLayout_23.addWidget(self.lineEdit_21)
        self.verticalLayout_2.addLayout(self.horizontalLayout_23)
        self.checkBox = QtWidgets.QCheckBox(ylrq)
        self.checkBox.setGeometry(QtCore.QRect(540, 500, 240, 30))
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        self.checkBox.setFont(font)
        self.checkBox.setObjectName("checkBox")
        self.checkBox_2 = QtWidgets.QCheckBox(ylrq)
        self.checkBox_2.setGeometry(QtCore.QRect(790, 500, 240, 30))
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        self.checkBox_2.setFont(font)
        self.checkBox_2.setObjectName("checkBox_2")
        self.checkBox_3 = QtWidgets.QCheckBox(ylrq)
        self.checkBox_3.setGeometry(QtCore.QRect(540, 550, 240, 30))
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        self.checkBox_3.setFont(font)
        self.checkBox_3.setObjectName("checkBox_3")
        self.checkBox_4 = QtWidgets.QCheckBox(ylrq)
        self.checkBox_4.setGeometry(QtCore.QRect(790, 550, 240, 30))
        font = QtGui.QFont()
        font.setFamily("楷体")
        font.setPointSize(18)
        self.checkBox_4.setFont(font)
        self.checkBox_4.setObjectName("checkBox_3")

        self.retranslateUi(ylrq)
        QtCore.QMetaObject.connectSlotsByName(ylrq)

        #设置是否选择
        self.checkBox.setChecked(True)

        self.lineEdit_3.setStyleSheet("background-color: rgb(85, 255, 255);")
        self.lineEdit_4.setStyleSheet("background-color: rgb(85, 255, 255);")
        self.lineEdit_6.setStyleSheet("background-color: rgb(85, 255, 255);")
        self.lineEdit_7.setStyleSheet("background-color: rgb(85, 255, 255);")
        self.lineEdit_8.setStyleSheet("background-color: rgb(85, 255, 255);")
        self.lineEdit_13.setStyleSheet("background-color: rgb(85, 255, 255);")
        self.lineEdit_14.setStyleSheet("background-color: rgb(85, 255, 255);")
        self.lineEdit_15.setStyleSheet("background-color: rgb(85, 255, 255);")
        self.lineEdit_16.setStyleSheet("background-color: rgb(85, 255, 255);")
        self.lineEdit_17.setStyleSheet("background-color: rgb(85, 255, 255);")

        # 只允许输入数字
        self.lineEdit.setValidator(QDoubleValidator())
        self.lineEdit_2.setValidator(QDoubleValidator())
        self.lineEdit_3.setValidator(QDoubleValidator())
        self.lineEdit_4.setValidator(QDoubleValidator())
        self.lineEdit_5.setValidator(QDoubleValidator())
        self.lineEdit_6.setValidator(QDoubleValidator())
        self.lineEdit_7.setValidator(QDoubleValidator())
        self.lineEdit_8.setValidator(QDoubleValidator())
        self.lineEdit_9.setValidator(QDoubleValidator())
        self.lineEdit_10.setValidator(QDoubleValidator())
        self.lineEdit_11.setValidator(QDoubleValidator())
        self.lineEdit_12.setValidator(QDoubleValidator())
        self.lineEdit_13.setValidator(QDoubleValidator())
        self.lineEdit_14.setValidator(QDoubleValidator())
        self.lineEdit_15.setValidator(QDoubleValidator())
        self.lineEdit_16.setValidator(QDoubleValidator())
        self.lineEdit_17.setValidator(QDoubleValidator())
        self.lineEdit_18.setValidator(QDoubleValidator())
        self.lineEdit_19.setValidator(QDoubleValidator())
        self.lineEdit_20.setValidator(QDoubleValidator())
        self.lineEdit_21.setValidator(QDoubleValidator())

        #设置信号槽
        self.pushButton.clicked.connect(self.bihoujisuan)
        self.pushButton_2.clicked.connect(self.anquanxishujisuan)
        self.comboBox.currentIndexChanged.connect(self.BOX)

    def retranslateUi(self, ylrq):
        _translate = QtCore.QCoreApplication.translate
        ylrq.setWindowTitle(_translate("ylrq", "压力容器壁厚计算V2.0 By ChengLiang"))
        self.label.setText(_translate("ylrq", "压力容器壁厚计算"))
        self.pushButton.setText(_translate("ylrq", "计算壁厚"))
        self.label_2.setText(_translate("ylrq", "材料类型"))
        self.comboBox.setItemText(0, _translate("ylrq", "17-4PH"))
        self.comboBox.setItemText(1, _translate("ylrq", "15-5PH"))
        self.comboBox.setItemText(2, _translate("ylrq", "S46500"))
        self.comboBox.setItemText(3, _translate("ylrq", "69111"))
        self.comboBox.setItemText(4, _translate("ylrq", "US122G"))
        self.comboBox.setItemText(5, _translate("ylrq", "TC18"))
        self.comboBox.setItemText(6, _translate("ylrq", "TC4"))
        self.comboBox.setItemText(7, _translate("ylrq", "Ti5563"))
        self.label_3.setText(_translate("ylrq", "抗拉强度（MPa）"))
        self.lineEdit.setText(_translate("ylrq", "1310"))
        self.label_4.setText(_translate("ylrq", "屈服强度（MPa）"))
        self.lineEdit_2.setText(_translate("ylrq", "1170"))
        self.label_6.setText(_translate("ylrq", "工压压力（MPa）"))
        self.lineEdit_3.setText(_translate("ylrq", "30"))
        self.label_7.setText(_translate("ylrq", "       安全系数"))
        self.lineEdit_4.setText(_translate("ylrq", "2.5"))
        self.label_8.setText(_translate("ylrq", "爆破压力（MPa）"))
        self.label_9.setText(_translate("ylrq", " 气瓶外径（mm）"))
        self.lineEdit_6.setText(_translate("ylrq", "140"))
        self.label_16.setText(_translate("ylrq", "计算强度（MPa）"))
        self.lineEdit_13.setText(_translate("ylrq", "1170"))
        self.label_10.setText(_translate("ylrq", " 椭球高度（mm）"))
        self.lineEdit_7.setText(_translate("ylrq", "35"))
        self.label_11.setText(_translate("ylrq", " 平底系数（mm）"))
        self.lineEdit_8.setText(_translate("ylrq", "0.27"))
        self.label_12.setText(_translate("ylrq", " 直筒壁厚（mm）"))
        self.label_13.setText(_translate("ylrq", " 球形壁厚（mm）"))
        self.label_14.setText(_translate("ylrq", " 椭球壁厚（mm）"))
        self.label_15.setText(_translate("ylrq", " 平底壁厚（mm）"))
        self.pushButton_2.setText(_translate("ylrq", "计算设计安全系数"))
        self.label_19.setText(_translate("ylrq", " 直筒设计壁厚（mm）"))
        self.label_18.setText(_translate("ylrq", " 球形设计壁厚（mm）"))
        self.label_20.setText(_translate("ylrq", " 椭球设计壁厚（mm）"))
        self.label_17.setText(_translate("ylrq", " 平底设计壁厚（mm）"))
        self.label_22.setText(_translate("ylrq", "   直筒设计安全系数"))
        self.label_23.setText(_translate("ylrq", "   球形设计安全系数"))
        self.label_21.setText(_translate("ylrq", "   椭球设计安全系数"))
        self.label_24.setText(_translate("ylrq", "   平底设计安全系数"))
        self.checkBox.setText(_translate("ylrq", "直筒设计安全系数"))
        self.checkBox_2.setText(_translate("ylrq", "球形设计安全系数"))
        self.checkBox_3.setText(_translate("ylrq", "椭球设计安全系数"))
        self.checkBox_4.setText(_translate("ylrq", "平底设计安全系数"))

    def canshu(self):
        global A,a,p1,N,P7,D,H,k,T1,T2,T3,T4,T5,T6,T7,T8,N1,N2,N3,N4  #设置全局变量
        A = self.comboBox.currentText()
        p1 = self.lineEdit_3.text()
        N = self.lineEdit_4.text()
        P7=self.lineEdit_5.text()
        D = self.lineEdit_6.text()
        a = self.lineEdit_13.text()
        H = self.lineEdit_7.text()
        k =self.lineEdit_8.text()
        T1 = self.lineEdit_9.text()
        T2 = self.lineEdit_10.text()
        T3 = self.lineEdit_11.text()
        T4 = self.lineEdit_12.text()
        T5 = self.lineEdit_14.text()
        T6 = self.lineEdit_15.text()
        T7 = self.lineEdit_16.text()
        T8 = self.lineEdit_17.text()
        N1 = self.lineEdit_18.text()
        N2 = self.lineEdit_19.text()
        N3 = self.lineEdit_20.text()
        N4 = self.lineEdit_21.text()

    def cailiao(self):
        self.canshu()
        if A=="17-4PH":
            self.lineEdit.setText("1310")
            self.lineEdit_2.setText("1170")
            self.lineEdit_13.setText("1170")
        if A=="15-5PH":
            self.lineEdit.setText("1310")
            self.lineEdit_2.setText("1170")
            self.lineEdit_13.setText("1170")
        if A=="S46500":
            self.lineEdit.setText("1700")
            self.lineEdit_2.setText("1500")
            self.lineEdit_13.setText("1500")
        if A == "TC4":
            self.lineEdit.setText("895")
            self.lineEdit_2.setText("825")
            self.lineEdit_13.setText("825")
        if A == "TC18":
            self.lineEdit.setText("1150")
            self.lineEdit_2.setText("1050")
            self.lineEdit_13.setText("1050")
        if A == "69111":
            self.lineEdit.setText("1050")
            self.lineEdit_2.setText("900")
            self.lineEdit_13.setText("900")
        if A == "US122G":
            self.lineEdit.setText("1900")
            self.lineEdit_2.setText("1700")
            self.lineEdit_13.setText("1700")
        if A == "Ti5563":
            self.lineEdit.setText("900")
            self.lineEdit_2.setText("800")
            self.lineEdit_13.setText("800")
    #BOX选择
    def BOX(self):
        self.cailiao()
        self.bihoujisuan()
        self.anquanxishujisuan()

 #创建壁厚计算
    def bihoujisuan(self):
        global A, a, p1, N, P7, D, H, k, T1, T2, T3, T4, T5, T6, T7, T8, N1, N2, N3, N4  # 设置全局变量
        self.canshu()
        if p1==None or N==None or D==None or H==None or k==None or a==None or \
                p1=="" or  N=="" or  D=="" or  H=="" or  k=="" or  a=="" or \
                float(p1)<0 or float(N)<0 or float(D)<0 or float(H)<0 or float(k)<0 or float(a)<0:
            QMessageBox.information(None, "使用提示", "设计计算输入不完整或错误，请检查后重新输入！", QMessageBox.Ok)
            self.cailiao()
        else:
            p1 = float(p1)
            N = float(N)
            D = float(D)
            H = float(H)
            k = float(k)
            a = float(a)
            if D/2>=H>=D/4:
                p7 = round(p1 * N, 5)
                T1 = round(p7 * D / (2 * a), 5)
                T2 = round(p7 * D / (4 * a), 5)
                T3 = round(p7 * D * D / (8 * H * a), 5)
                T4 = round((D - 2 * T1) * np.sqrt(k * p7 / a), 5)
                self.lineEdit_5.setText(str(p7))
                self.lineEdit_9.setText(str(T1))
                self.lineEdit_10.setText(str(T2))
                self.lineEdit_11.setText(str(T3))
                self.lineEdit_12.setText(str(T4))
                self.shuju()
            else:
                QMessageBox.information(None, "使用提示", "D/4≤高度H≤D/2，请检查后重新输入！", QMessageBox.Ok)

    def anquanxishujisuan(self):
        global A, a, p1, N, P7, D, H, k, T1, T2, T3, T4, T5, T6, T7, T8, N1, N2, N3, N4  # 设置全局变量
        self.canshu()
        if self.checkBox.isChecked() == False and self.checkBox_2.isChecked() == False and self.checkBox_3.isChecked() == False \
                and self.checkBox_4.isChecked() == False:
            QMessageBox.information(None, "使用提示", "请选择安全系数校核类型！", QMessageBox.Ok)
        if self.checkBox.isChecked():
            if p1 == None or  D == None or a == None or p1 == "" or D == "" or a == "" or \
                    float(p1) < 0 or float(D) < 0 or float(a) < 0:
                QMessageBox.information(None, "使用提示", "请先输入设计计算参数！", QMessageBox.Ok)
            elif T5 == ""  or T5 == None or float(T5) < 0:
                QMessageBox.information(None, "使用提示", "请输入直筒壁厚！", QMessageBox.Ok)
            else:
                T5 = float(T5)
                N1 = round((2 * float(a) * T5) / (float(p1) * float(D)), 5)
                self.lineEdit_18.setText(str(N1))
                self.shuju()
        if self.checkBox_2.isChecked():
            if p1 == None or D == None or a == None or p1 == "" or D == "" or a == "" or \
                    float(p1) < 0 or float(D) < 0 or float(a) < 0:
                QMessageBox.information(None, "使用提示", "请先输入设计计算参数！", QMessageBox.Ok)
            elif T6 == "" or T6 == None or float(T6) < 0:
                QMessageBox.information(None, "使用提示", "请输入球形壁厚！", QMessageBox.Ok)
            else:
                T6 = float(T6)
                N2 = round(4 * float(a) * T6 / (float(p1) * float(D)), 5)
                self.lineEdit_19.setText(str(N2))
                self.shuju()
        if self.checkBox_3.isChecked():
            if p1 == None or D == None or H == None or a == None or p1 == "" or D == "" or H == "" or a == "" or \
                    float(p1) < 0 or float(D) < 0 or float(H) < 0 or float(a) < 0:
                QMessageBox.information(None, "使用提示", "请先输入设计计算参数！", QMessageBox.Ok)
            elif float(H) > float(D) / 2 or float(H) < float(D) / 4:
                QMessageBox.information(None, "使用提示", "D/4≤高度H≤D/2，请检查后重新输入！", QMessageBox.Ok)
            elif T7 == "" or T7 == None or float(T7) < 0:
                QMessageBox.information(None, "使用提示", "请输入椭球壁厚！", QMessageBox.Ok)
            else:
                T7 = float(T7)
                N3 = round(8 * float(H) * float(a) * T7 / (float(p1) * np.square(float(D))), 5)
                self.lineEdit_20.setText(str(N3))
                self.shuju()
        if self.checkBox_4.isChecked():
            if p1 == None or D == None or H == None or a == None or p1 == "" or D == "" or H == "" or a == "" or \
                    float(p1) < 0 or float(D) < 0 or float(H) < 0 or float(a) < 0:
                QMessageBox.information(None, "使用提示", "请先输入设计计算参数！", QMessageBox.Ok)
            elif T8 == "" or T8 == None or float(T8) < 0 or T5 == "" or T5 == None or float(T5) < 0:
                QMessageBox.information(None, "使用提示", "请输入平底壁厚和直筒壁厚！", QMessageBox.Ok)
            else:
                T8 = float(T8)
                N4 = round(np.square(T8) * float(a) / ((float(D) - 2 * float(T5)) * (float(D) - 2 * float(T5)) * float(k) * float(p1)), 5)
                self.lineEdit_21.setText(str(N4))
                self.shuju()

    def datetime(self):
        global now_time
        now_time= datetime.datetime.now().strftime("%Y.%m.%d %H:%M:%S")

    def shuju(self):
        self.datetime()
        def sql_insert(con, data):
                cursor = con.cursor()
                cursor.execute("insert into 压力容器壁厚 (日期,材料类型,计算强度,工压压力,安全系数,爆破压力,气瓶外径,椭球高度,平底系数,直筒壁厚,球形壁厚,椭球壁厚,平底壁厚,直筒设计壁厚,球形设计壁厚,椭球设计壁厚,平底设计壁厚,直筒设计安全系数,球形设计安全系数,椭球设计安全系数,平底设计安全系数) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)", data)
                con.commit()
        data = (now_time, A,a,p1,N,P7,D,H,k,T1,T2,T3,T4,T5,T6,T7,T8,N1,N2,N3,N4)
        sql_insert(con, data)

import img_rc

import sys
if __name__ == '__main__':
    app = QtWidgets.QApplication(sys.argv)
    Mainwidow = QtWidgets.QMainWindow()  # 创建窗体对象
    ui = Ui_ylrq()  # 创建QT设计的窗体
    ui.setupUi(Mainwidow)  # 初始化设置
    Mainwidow.show()  # 显示窗体
    sys.exit(app.exec_())  # 程序关闭时退出进程
